# Compression Benchmark Tool

Инструмент для сравнения эффективности алгоритма сжатия LZ77 (самостоятельная реализация) с библиотеками GZIP и ZSTD.

## Реализованный алгоритм

**LZ77** - алгоритм сжатия без потерь, основанный на поиске повторяющихся последовательностей в данных. Является основой для DEFLATE (используется в GZIP) и многих других форматов.

### Особенности реализации:
- Скользящее окно размером 32KB для поиска совпадений
- Минимальная длина совпадения: 3 байта
- Максимальная длина совпадения: 258 байт
- Максимальное смещение: 32KB

## Использование

### Сжатие файла
```bash
go run ./cmd/compression -mode compress -input file.txt -algo lz77
```

### Распаковка
```bash
go run ./cmd/compression -mode decompress -input file.txt.compressed -algo lz77
```

### Бенчмарк (сравнение всех алгоритмов)
```bash
go run ./cmd/compression -mode benchmark -input file.txt
```

## Пример вывода бенчмарка

```
COMPRESSION BENCHMARK RESULTS
================================================================================
Algorithm   Original     Compressed    Ratio %  Compress  Decompress    Ratio
---------   --------     ----------    -------  --------  ----------    -----
lz77           1048576        524288     50.00%   1.234s      0.567s     2.00x
gzip           1048576        262144     25.00%   0.123s      0.045s     4.00x
zstd           1048576        196608     18.75%   0.089s      0.034s     5.33x
```

## Формат сжатых данных (LZ77)

Сжатый файл содержит:
1. **Заголовок**: 4 байта (little-endian) - количество токенов
2. **Токены**:
   - **Литерал**: `0xFF` (1 байт) + значение (1 байт)
   - **Совпадение**: `0xFE` (1 байт) + смещение (2 байта, little-endian) + длина (1 байт)

## Тестирование

Для тестирования можно использовать любой текстовый файл:

```bash
# Создать тестовый файл
echo "Hello, world! This is a test file for compression." > test.txt

# Запустить бенчмарк
go run ./cmd/compression -mode benchmark -input test.txt
```

